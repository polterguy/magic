
<mat-card>

  <div *ngIf="shouldUpdateCore" class="update-available">
    <a
      href="https://polterguy.github.io/tutorials/getting-started/"
      mat-raised-button
      matTooltip="Update your Magic installation"
      target="_blank">
      Update to {{bazarVersion}}
    </a>
  </div>

  <div *ngIf="!shouldUpdateCore" class="documentation">
    <a
      href="https://polterguy.github.io/documentation/"
      mat-raised-button
      matTooltip="Read the documentation for Magic"
      target="_blank">
      Documentation
    </a>
  </div>

  <h1>Magic Cloud</h1>
  <span
    class="version"
    [matTooltip]="shouldUpdateCore ? 'You should probably update your local Magic installation' : 'You seem to have the latest version installed'">{{version}}</span>

  <div class="buttons">

    <button
      *ngIf="authService.hasAccess('magic/modules/system/sql')"
      mat-raised-button
      routerLink="/sql"
      matTooltip="Execute SQL">
      <mat-icon matSuffix color="primary">language</mat-icon>
      <span>SQL</span>
    </button>

    <button
      *ngIf="authService.hasAccess('magic/modules/system/crudifier')"
      mat-raised-button
      routerLink="/crudifier"
      matTooltip="Generate CRUD apps">
      <mat-icon matSuffix color="primary">build</mat-icon>
      <span>CRUD</span>
    </button>

    <button
      *ngIf="authService.hasAccess('magic/modules/system/endpoints')"
      mat-raised-button
      routerLink="/endpoints"
      matTooltip="HTTP endpoints">
      <mat-icon matSuffix color="primary">http</mat-icon>
      <span>Endpoints</span>
    </button>

    <button
      *ngIf="authService.hasAccess('magic/modules/system/file-system')"
      mat-raised-button
      routerLink="/ide"
      matTooltip="Hyper IDE">
      <mat-icon matSuffix color="primary">extension</mat-icon>
      <span>IDE</span>
    </button>

    <button
      *ngIf="authService.hasAccess('magic/modules/system/auth/imprison')"
      mat-raised-button
      routerLink="/auth"
      matTooltip="Administrate users and roles">
      <mat-icon matSuffix color="primary">people</mat-icon>
      <span>Auth</span>
    </button>

    <button
      *ngIf="authService.hasAccess('magic/modules/system/log')"
      mat-raised-button
      routerLink="/log"
      matTooltip="Server's log">
      <mat-icon matSuffix color="primary">bar_chart</mat-icon>
      <span>Log</span>
    </button>

    <button
      *ngIf="authService.hasAccess('magic/modules/system/tasks')"
      mat-raised-button
      routerLink="/tasks"
      matTooltip="Administrate scheduled tasks">
      <mat-icon matSuffix color="primary">calendar_today</mat-icon>
      <span>Tasks</span>
    </button>

    <button
      *ngIf="authService.isRoot"
      mat-raised-button
      routerLink="/terminal"
      matTooltip="A web based terminal">
      <mat-icon matSuffix color="primary">input</mat-icon>
      <span>Terminal</span>
    </button>

    <button
      *ngIf="authService.hasAccess('magic/modules/system/evaluator')"
      mat-raised-button
      routerLink="/evaluator"
      matTooltip="Execute Hyperlambda">
      <mat-icon matSuffix color="primary">offline_bolt</mat-icon>
      <span>Eval</span>
    </button>

    <button
      mat-raised-button
      routerLink="/crypto"
      matTooltip="Administrate your cryptography keys">
      <mat-icon matSuffix color="primary">security</mat-icon>
      <span>Crypto</span>
    </button>

    <button
      *ngIf="authService.hasAccess('magic/modules/system/diagnostics')"
      mat-raised-button
      routerLink="/diagnostics"
      matTooltip="Health and diagnostics">
      <mat-icon matSuffix color="primary">local_hospital</mat-icon>
      <span>Health</span>
    </button>

    <button
      *ngIf="authService.hasAccess('magic/modules/system/file-system')"
      mat-raised-button
      routerLink="/file-system"
      matTooltip="Manage your files">
      <mat-icon matSuffix color="primary">file_copy</mat-icon>
      <span>Files</span>
    </button>

    <button
      *ngIf="authService.hasAccess('magic/modules/system/misc')"
      mat-raised-button
      routerLink="/sockets"
      matTooltip="Administrate socket connections">
      <mat-icon matSuffix color="primary">compare_arrows</mat-icon>
      <span>Sockets</span>
    </button>

    <button
      *ngIf="authService.hasAccess('magic/modules/system/config')"
      mat-raised-button
      routerLink="/config"
      matTooltip="Edit configuration">
      <mat-icon matSuffix color="primary">settings</mat-icon>
      <span>Config</span>
    </button>

    <button
      *ngIf="!authService.authenticated"
      mat-raised-button
      routerLink="/register"
      matTooltip="Register as a user">
      <mat-icon matSuffix color="primary">face</mat-icon>
      <span>Register</span>
    </button>

    <button
      *ngIf="authService.isRoot"
      mat-raised-button
      routerLink="/bazar"
      matTooltip="Obtain additional plugins and modules">
      <mat-icon matSuffix color="primary">public</mat-icon>
      <span>Bazar</span>
    </button>

    <button
      mat-raised-button
      routerLink="/about"
      matTooltip="About Magic Cloud">
      <mat-icon matSuffix color="primary">copyright</mat-icon>
      <span>About</span>
    </button>

  </div>

  <p class="copyright">
    Magic is Copyright(c) of Thomas Hansen, <a href="mailto:thomas@servergardens.com">thomas@servergardens.com</a>
  </p>
</mat-card>
