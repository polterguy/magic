
<h1 mat-dialog-title>Subscribe to our newsletter</h1>

<form (enter)="btn.click()">
  <div mat-dialog-content class="file-content">

    <p>
      Subscribing to our newsletter will provide you with important security information, updates
      to Magic and your apps, special offers, in addition to tips and tricks related to the system.
    </p>

    <mat-form-field *ngIf="model" class="fill-width" appearance="outline">

      <mat-label class="dark">Your name</mat-label>
      <input
        matInput
        type="text"
        autocomplete="off"
        [(ngModel)]="model.name"
        name="model.name">
    </mat-form-field>

    <mat-form-field *ngIf="model" class="fill-width" appearance="outline">

      <mat-label class="dark">Your email</mat-label>
      <input
        matInput
        type="text"
        autocomplete="off"
        [(ngModel)]="model.email"
        name="model.email">
    </mat-form-field>

  </div>

  <div mat-dialog-actions class="mat-dialog-actions">
    <re-captcha
      #captchaRef="reCaptcha"
      [siteKey]="recaptchaKey"
      size="invisible"
      (resolved)="$event && ok($event)"
      *ngIf="recaptchaKey !== '' && recaptchaKey !== null"
    ></re-captcha>
    <button
      mat-raised-button
      color="primary"
      type="submit" #btn
      (click)="recaptchaKey !== '' && recaptchaKey !== null ? executeRecaptcha() : ok()">Subscribe</button>

    <button
      mat-raised-button
      type="button"
      (click)="cancel()">Close</button>

  </div>
</form>
